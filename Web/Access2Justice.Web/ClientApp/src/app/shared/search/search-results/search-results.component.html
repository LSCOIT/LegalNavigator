<div class="container">
  <div *ngIf="isInternalResource">
    <h2>Results for {{searchResults.topIntent}}.</h2>
  </div>
  <div class="row" *ngIf="isInternalResource">
    <div class="panel-heading box-shadow">
      <span class="label-display mobile-hidden">Showing Information for </span>
      <app-location #location [mapType]="false"></app-location>
    </div>
  </div>
  <div *ngIf="isWebResource">
    <h2>We found the following web resources related to your search</h2>
  </div>
  <div *ngIf="displayMessage">
    <h2>Your search for this location did not match any resources.</h2>
    <br />
    <h4>
      <p>Suggestions:</p>
      <p>Try to search within a larger area.</p>
      <p>Change the location.</p>
    </h4>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <app-search-filter (notifyFilterCriteria)='filterSearchResults($event)' [resourceResults]="resourceResults"></app-search-filter>
    </div>
  </div>
  <div>
    <div class="col-md-8 col-sm-12">
      <div *ngIf="isInternalResource || isPersonalizedresource" class="row center-align">
        <div *ngFor="let searchResource of searchResults.resources | searchFilter:{ filter : sortType, source : 'internal'} ">
          <app-resource-card [searchResource]="searchResource" [isSearchResults]="true" [personalizedResources]="personalizedResources" [showRemoveOption]="showRemoveOption"></app-resource-card>          
        </div>
      </div>
      <div *ngIf="isWebResource" class="row center-align">
        <div *ngIf="searchResults && searchResults.webResources && searchResults.webResources.webPages">
          <div *ngFor="let webResult of searchResults.webResources.webPages.value | searchFilter:{ filter : sortType, source : 'external'}" class="col-md-12 sidebar">
            <app-web-resource [webResult]="webResult"></app-web-resource>
          </div>
        </div>
      </div>
      <div *ngIf="isLuisResponse" class="row center-align">
        <h3>Sorry, we did not find anything that matches you're input. Please try again.</h3>
      </div>
      <!-- pagination logic here -->
      <div *ngIf="isInternalResource || isWebResource">
        <app-pagination (goPage)="goToPage($event)"
                        (goNext)="onNext()"
                        (goPrev)="onPrev()"
                        [pagesToShow]="pagesToShow"
                        [page]="page"
                        [perPage]="limit"
                        [count]="total"></app-pagination>
      </div>
    </div>
    <div *ngIf="isInternalResource" class="col-md-3 col-sm-12 pull-right">
      <div class="row">
        <app-map-results [searchResource]="searchResults"></app-map-results>
      </div>
      <app-guided-assistant-sidebar></app-guided-assistant-sidebar>
      <app-service-org-sidebar></app-service-org-sidebar>
    </div>
  </div>
</div>
