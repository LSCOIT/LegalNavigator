<div *ngIf="question" class="col-sm-8 col-sm-offset-2 text-center">
  <h4>{{question.text}}</h4>
  <form #gaForm="ngForm" (ngSubmit)="onSubmit(gaForm)">
    <div *ngIf="question.fields" class="row">
      <div *ngFor="let field of question.fields">
        <div class="button-container" *ngIf="field.type === 'radio' || field.type === 'checkbox'; else elseBlock">
          <ul>
            <li>
              <input *ngIf="field.type === 'radio'" type="radio" [id]="field.id" [value]="field.id" name="radioOptions" ngModel>
              <input *ngIf="field.type === 'checkbox'" type="checkbox" [id]="field.id" [value]="field.label" name="multiSelectOptions" ngModel>
              <label for={{field.id}}>{{field.label}}</label>
              <div class="check"></div>
            </li>
          </ul>
        </div>
        <ng-template #elseBlock>
          <div class="inputs">
            <label>{{field.label}}</label>
            <input class="textbox" *ngIf="field.type === 'text'" type="text" [name]="field.id" autocomplete="off" ngModel>
            <input class="textbox" *ngIf="field.type === 'numberzip'" type="number" [name]="field.id" autocomplete="off" ngModel>
            <input class="textbox" *ngIf="field.type === 'numberphone'" type="number" [name]="field.id" autocomplete="off" ngModel>
            <input class="textbox" *ngIf="field.type === 'datemdy'" type="date" [name]="field.id" autocomplete="off" ngModel>
            <div *ngIf="field.type ==='textpick' || field.type ==='numberpick'" class="btn-group" dropdown>
              <button id="button-basic"
                      dropdownToggle type="button"
                      class="dropdown-toggle"
                      aria-controls="dropdown-basic">
                State
                <span class="caret"></span>
              </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
                  role="menu" aria-labelledby="button-basic">
                <li role="menuitem"><a class="dropdown-item">Action</a></li>
                <li role="menuitem"><a class="dropdown-item">Another action</a></li>
                <li role="menuitem"><a class="dropdown-item">Something else here</a></li>
              </ul>
            </div>
          </div>
          <div *ngIf="field.type === 'textlong'" class="col-md-6 col-sm-8 col-md-offset-3 col-sm-offset-2">
          <textarea class="form-control" rows="3" [name]="field.id" ngModel>
    </textarea>
        </div>
        </ng-template>
      </div>
    </div>
    <div *ngIf="question.questionsRemaining >= 0 else viewPlanBlock">
      <div class="row" *ngIf="question.buttons">
        <div class="col-sm-6 col-sm-offset-3">
          <button class="btn btn-primary">{{question.buttons[0].label}}</button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-10 col-md-offset-1 col-sm-12 col-sm-offset-0">
          <app-did-you-know></app-did-you-know>
        </div>
      </div>
    </div>
  </form>
  <ng-template #viewPlanBlock>
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <button class="btn btn-primary" type="button"><a [routerLink]="['/plan/cf152275-32b2-b22c-de54-42de8fdfe778']">View Action Plan</a></button>
      </div>
    </div>
  </ng-template>
</div>
