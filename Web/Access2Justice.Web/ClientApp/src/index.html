<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Access to Justice</title>
  <base href="/">
  <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?branch=experimental' async defer></script>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.VERTICAL }, 'google_translate_element');
      let translator = document.getElementById('google_translate_element');
      translator.setAttribute("style", "display: none; box-shadow: 0 6px 12px 3px #ddd;");
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <app-root>Loading...</app-root>
  <div id="google_translate_element"></div>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Element.prototype.classList"></script>
  <script src="https://unpkg.com/focus-visible"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var translationWidget = document.getElementById("google_translate_element");
      var languageDropdownButton = document.getElementById("language-dropdown");

      // keydown and keyup don't produce the correct behavior for pressing Enter key
      if (translationWidget) {
        translationWidget.addEventListener('keypress', function onEvent(e) {
          if (e.key === "Enter") {
            languageDropdownButton.click();
            languageDropdownButton.focus();
          }
        })

        translationWidget.addEventListener('keydown', function onEvent(e) {
          if (e.key === "Escape") {
            languageDropdownButton.click();
            languageDropdownButton.focus();
          }
        })
      }
    });
  </script>
</body>
</html>
